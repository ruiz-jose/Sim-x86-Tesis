# Comparativa de simuladores

Este capítulo realiza una comparación de los simuladores x86 más adecuados para la asignatura de Arquitectura de Computadoras de la Licenciatura en Sistemas. Se establecen los criterios de evaluación y se analizan los simuladores seleccionados de acuerdo con estos criterios.

## Simuladores de software

Un simulador de arquitectura es un software que imita una situación del mundo real y, en este contexto, puede imitar el hardware de un sistema de cómputo. El simulador se centra principalmente en la representación de los aspectos arquitectónicos y funciones del hardware simulado. El uso de herramientas de simulación permite realizar cambios, pruebas y ejecución de programas sin temor de dañar ningún componente o por falta de la computadora [8]. 
Algunos softwares ofrecen una representación en forma visual e interactiva de la organización y arquitectura interna de la computadora, facilitando así la comprensión de su funcionamiento, como ser los simuladores Assembly debugger (x86), Simple 8-bit Assembler Simulator, Microprocessor Simulator, Simulador de ensamblador de 16 bits y Emu8086. En este sentido, los simuladores juegan una pieza clave en el campo de la Arquitectura de Computadoras, permitiendo conectar fundamentos teóricos con la experiencia práctica, simpliﬁcando abstracciones y facilitando la labor docente [9,13].

## Simuladores similares
Cabe destacar que existen estudios comparativos que evalúan diferentes simuladores aplicados a la enseñanza de los cursos de arquitectura de computadoras:
“A survey and evaluation of simulators suitable for teaching courses in computer architecture and organization”, 2009 [9]: Otros estudios evalúan diferentes simuladores para abordar diferentes temas en el dictado de los cursos de Arquitectura de Computadoras, en general estos estudios evalúan simuladores en términos de dos categorías predefinidas: una referida a las características de la simulación, como ser granularidad, usabilidad, disponibilidad, presentación visual, flujo de simulación, etc., y otra sobre la cobertura de los contenidos preestablecidos en las currículas.
“Survey and evaluation of simulators suitable for teaching for computer architecture and organization Supporting undergraduate students at Sir Syed University of Engineering & Technology”, 2012 [10]: usabilidad, disponibilidad, Fundamentos de arquitectura informática, jerarquía de sistemas de memoria, comunicación e interfaz y diseño de sistemas de procesadores.
Este trabajo se diferencia al proponer un enfoque diferente: evaluar los simuladores x86 bajo criterios de evaluación basados en características de simulación y en contenidos específicos de la asignatura Arquitectura de Computadoras de la carrera de Licenciatura en Sistemas de la Universidad Nacional de Entre Ríos.

## Criterios de evaluación
Se han definido 7 criterios de evaluación:
Usabilidad: Se refiere a la capacidad de un software de ser comprendido, aprendido, usado y ser atractivo para el usuario. Indicador: facilidad de uso (difícil-media-fácil).
Editor: Soporte para escribir código fuente en lenguaje ensamblador. Indicador: funcionalidades del editor (baja-media-alta).
Documentación: Disponibilidad de soporte para el aprendizaje, repertorio de instrucciones, manual de usuario. Indicador: documentación disponible (mínima-media-completa).
Ejecución de simulación: Facilidad para controlar la simulación. Indicador: controles de simulación (baja-media-alta).
Nivel de especificación de la Organización y Arquitectura del sistema simulado: Nivel de implementación del set de instrucciones, memoria, módulos de E/S, etc. Indicador: adecuación del repertorio de instrucciones del simulador a una arquitectura x86 real (mínima-media-completa).
Características del desarrollo del producto software: Tipo de licencia (open source o privativas), fecha de última versión, Web/Escritorio, uso académico. Indicador: características del producto software (mala-buena-muy buena).
Cobertura de los contenidos preestablecidos en la currícula: Ajuste a los tópicos de la asignatura Arquitectura de Computadoras. Indicador: características del simulador para dar soporte a contenidos específicos (baja-media-alta).

## Selección de simuladores
A partir de una exploración en internet sobre herramientas de simulación de la arquitectura x86 utilizadas para la enseñanza, se detectaron los siguientes simuladores:
Assembly debugger (x86)
Simple 8-bit Assembler Simulator
Microprocessor Simulator
Simulador de ensamblador de 16 bits
Emu8086
VonSim
Orga1
Qsim
De estos simuladores, se seleccionaron tres que a priori cubrían la mayor cantidad de contenidos curriculares establecidos en el criterio de evaluación “Cobertura de los contenidos preestablecidos en la currícula”: Emu8086, VonSim y Simple 8-bit Assembler Simulator.

## Análisis comparativo
Se analizaron los simuladores seleccionados con base en los criterios de evaluación definidos:
Simple 8-bit Assembler Simulator
Usabilidad: Nivel medio. Presenta todos los componentes en una sola pantalla, lo cual puede ser abrumador para usuarios iniciales.
Editor: Nivel bajo. Incluye aviso de errores de sintaxis al ensamblar, sin resaltado de sintaxis ni breakpoints. No permite guardar o cargar programas.
Documentación: Nivel mínimo. Consta solo de un manual de instrucciones implementadas.
Ejecución de simulación: Nivel medio. Permite configurar la velocidad del reloj de CPU y ofrece controles básicos de simulación.
Nivel de especificación: Nivel mínimo. Simplifica la arquitectura x86 en un CPU de 8 bits, con memoria de 256 bytes y sin soporte para IN y OUT.
Desarrollo del producto: Nivel bueno. Licencia MIT, última versión en 2015, desarrollado sobre plataforma web.
Cobertura de contenidos: Nivel bajo. No implementa memoria independiente para módulos de entrada y salida, rutinas de tratamiento de interrupciones ni ciclo de instrucción.
VonSim
Usabilidad: Nivel medio. Presenta componentes mediante solapas, lo cual puede ser abrumador para usuarios iniciales.
Editor: Nivel medio. Incluye aviso de errores de sintaxis, resaltado de sintaxis y breakpoints mediante interrupción por software.
Documentación: Nivel medio. Posee manual de uso y tutorial interactivo.
Ejecución de simulación: Nivel medio. Permite configurar la velocidad del reloj de CPU y ofrece controles básicos de simulación.
Nivel de especificación: Nivel medio. Representa una simplificación del procesador 8088 con arquitectura de 16 bits y memoria direccionable de 16 KiB.
Desarrollo del producto: Nivel muy bueno. Licencia GNU Affero General Public License v3.0, última versión en 2020, desarrollado sobre plataforma web con extensa evidencia de uso académico.
Cobertura de contenidos: Nivel media. Implementa dispositivos internos y externos, pero no desarrolla contenidos visuales para ciclo de instrucción y medidas de rendimiento.
Emu8086
Usabilidad: Nivel fácil. Presenta inicialmente el editor y permite activar componentes del simulador a medida que se cargan programas.
Editor: Nivel alto. Incluye aviso de errores de sintaxis, resaltado de sintaxis y opciones de breakpoints. Permite guardar y cargar programas.
Documentación: Nivel completo. Incluye manual de instrucciones, tutorial de aprendizaje y manual de uso.
Ejecución de simulación: Nivel alto. Permite configurar la velocidad del reloj de CPU y ofrece controles avanzados de simulación, incluyendo "step back".
Nivel de especificación: Nivel completo. Representa detalladamente la arquitectura del procesador 8086 con memoria direccionable de 1 MiB y soporte para interrupciones por software y hardware.
Desarrollo del producto: Nivel bueno. Licencia privativa, última versión en 2023, desarrollado sobre plataforma de escritorio.
Cobertura de contenidos: Nivel alto. Soporta todos los modos de direccionamiento y permite emular el booteo de una IBM PC desde el floppy disk, entre otros.


Tabla comparativa según criterios de evaluación  preestablecidos.
Criterios de evaluación
Simple 8-bit
VonSim
Emu8086
1. Usabilidad
 ( Difícil * - Media ** - Fácil ***)
**
**
***
2. Editor 
(Baja * - Media ** - Alta ***)
*
**
***
3. Documentación 
(Mínima * - Media ** - Completa ***)
*
**
***
4. Ejecución de simulación
 (Baja * - Media ** - Alta ***)
**
**
***
5. Nivel de especificación x86 (Mínima * - Media ** - Completa ***)
*
**
***
6. Producto software (Mala * - Buena ** - Muy buena ***)
**
***
*
7. Cobertura contenidos
  (Baja * - Media ** - Alta ***)
*
**
**


##   Conclusiones del análisis

En la asignatura se utiliza la herramienta emu8086 versión 4.08 desde el año 2018. En el análisis de la herramienta se observó que la herramienta tiene un periodo de evaluación gratuito de 14 días, luego de esta se debe adquirir la licencia para su uso.
Desde la asignatura se incentiva el uso de simuladores para dar apoyo a los proceso de enseñanza y aprendizaje, pero también se incentiva que los contenidos desarrollados puedan volcarse en máquinas reales, en este sentido consideramos que el enfoque planteado por la herramienta emu8086 es el más adecuado para la asignatura, ya que facilita mecanismos para implementar los programas en máquinas reales. Sin embargo presenta el inconveniente que genera ejecutables dependientes del sistema operativo MS-DOS, la mayoría de los sistemas operativos actuales no permiten la ejecución de dichos programas, obligando a la utilización de emuladores de MS-DOS para poder correrlos, siendo esto otro elemento más que se incorpora a los procesos de enseñanza y aprendizaje. 
Utilizar lenguaje NASM (Netwide Assembler) garantiza soporte tanto para Linux como Windows a través de herramientas libres como GCC (GNU Compiler Collection), generando programas para la arquitectura x86 de 16, 32 y 64 bits.
En el criterio de evaluación uno emu8086 se destaca del resto debido a que su interfaz se despliega solo si es necesaria para su uso, por ejemplo pila, flags, teclado, pantalla, etc. a medida que se usan. En cambio las otras herramientas muestran todos sus componentes en su interfaz. 
En el criterio de evaluación dos emu8086 se destaca del resto debido a que el editor presenta punto de ruptura, que permiten correr la ejecución del programa hasta cierto punto, además incluye la facilidad de guardar y recuperar un programa desde el propio editor.
En el criterio de evaluación tres el emu8086 se destaca del resto debido a que ofrece los tres tipos de documentación establecidas en este criterio,  un repertorio de instrucciones con ejemplos para cada tipo de instrucción, un manual que explica las partes de las herramientas y un tutorial para aprender a programar en ensamblador 
En el criterio de evaluación cuatro el emu8086 se destaca del resto debido presenta una mayor cantidad de controladores para gestionar el flujo de ejecución, por ejemplo permite retroceder la ejecución de una instrucción, otra opción es de recargar el programa actual. 
En el criterio de evaluación cinco el emu8086 se destaca del resto debido a que ofrece una mayor especificidad de la arquitectura x86, además implementa interrupciones del sistema operativo MS-DOS, a través del cual se pueden ejecutar los programas en una máquina real. 
En el criterio de evaluación seis VonSim se destaca del resto debido a que es licencia libre y posee una comunidad que respalda el proyecto.
En cuanto al último criterio, ninguna de las herramientas evaluadas cubre todos los contenidos que se pretende desarrollar con la ayuda de una herramienta, quedando excluido pasos del ciclo de instrucción y medidas de rendimientos (tiempo de CPU y CPI: ciclo por instrucción).


4.6  Publicación
El resultado de esta comparativa fue publicado en el XVII Congreso de Tecnología en educación y Educación en Tecnología año 2022 bajo el título de "Herramientas de software para dar soporte en la enseñanza y aprendizaje de la arquitectura x86".  (Cita)
Durante la elaboración de este análisis comparativo establecí contacto con uno de los docentes de la Universidad Nacional de la Plata (UNLP) que habían desarrollado un simulador web VonSim, con el acuerdo de docente se generó una solicitud de incorporación de cambios (pull request) en el repositorio de Github del simulador VonSim y en agosto-2023 salió una nueva versión donde se implementan animaciones de la ejecución de instrucciones y documentación on-line. 
